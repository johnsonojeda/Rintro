---
title: "Introduction to R | Data"
theme : united
author: "EcoHealth Alliance"
output: html_document
highlight: tango
---
<img src = "rlogo.png" style="position:absolute;top:0px;left:0px;"/>

## Contents

[Dataframe structure](#str)

[Numerics & Integers](#numint)

[Factors & Characters](#char)

[Vectors](#vec)

## <a name = "str"><a/> Dataframe structure

Now that we know how to import dataframes from other sources, we can check
the structure or data types within it.

We will start by loading the *cgd* (Chronic Granulotomous Disease data) dataset built into the *survival* package.

```{r}
# First we need to load the package
library(survival)

# Then load the cgd dataframe
data("cgd") 

#Visualize the structure of the dataframe using the str() function

str(cgd)
```

We can now see each component vector of the dataframe separately, the first elements within each vector and the data category to which the vector belongs to. In this case we have 4 types of data *integers* (e.g. id, age), *numerics* (e.g. height, weight), *factors* (e.g. treatment, sex) and *date*. 

###Exercise 1

1. Load the built-in *iris* dataframe using the ```data()``` function.
2. Check the structure of this dataframe
3. What types of variables does it contain? 

We will now talk about the different types of data R deals with

***
## <a name = "numint"><a/> Numeric & integer variables

R understands *numerics* as numbers with decimals. For example, let's extract the *weight* vector from the *cgd* dataframe. 

```{r}
weight = cgd$weight

class(weight) #The class function tells us what data type we are dealing with

```

When using the ```class()``` function, we can observe that *weight* is indeed a numeric type variable. However, what happens when we do the same with the *age* vector?

```{r}
age = cgd$age

print(age)
class(age)
```

We see that even though *age* is also a number, it is calssified as a *integer* variable. Non-decimal variables are called *integers*. We can transform these integer values into numeric (with decimals) by calling the ```as.numeric()``` function.

```{r}
age_num = as.numeric(age)

print(age_num)
class(age_num)
```


We can also coerce numeric values into integer variables by using the ```as.integer()``` function.

```{r}
weight_int = as.integer(weight)  # Transform from numeric to integer

class(weight_int)                # Get new integer vector
```


Note that R coerces numeric variables into integers by deleting any decimals or *rounding down*.

Keep in mind that the default for R is to interpret numbers as numerics. So when you import a dataframe from another source integer values will be assumed to be numeric, that is having decimal values. 

### Exercise 2

1. Extract the *Petal.Length* column into an independent vector called *PetalLen*
2. Determine what data type this new vector is using the ```class()``` function.
3. Corece this vector into an integer

***

## <a name = "char"><a/> Factors & Characters

Factors are categorical variables, meaning that they can only take a limited number of differnt values. For example, in the *sex* vector of the *cgd * dataframe, we only observe 2 possible values female and male. 

```{r}

class(cgd$sex)
```

Though dealing with a limited number of categories is useful, when we have to many it may be unmanageable. In that case we may prefer working with character variables. These are string (or letter) values, however they are not restricted to a limited number of categories. Like factors, Character strings are also enclosed in quotations (```" "```).

We can easily convert factors into characters with the ```as.character()``` function. Let's do it for the *center* column within the *cgd* dataframe:

```{r}
cgd$center = as.character(cgd$center)

class(cgd$center)
```
Note that by using the *$* operator we are not creating a new vector as we had done previously, rather we are choosing the Column (center) within the dataframe (cgd) and applying the function to that specific column in the dataframe. Such that:

```{r}
str(cgd)
```

We can see that that the class for *center* has changed.

### Excercise 3

1. Transform the *Species* column into a character vector. 